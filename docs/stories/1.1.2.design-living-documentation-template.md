# Story 1.1.2: Design Living Documentation Template

## Status
Ready for Review

## Story
**As a** Phase 0 developer,
**I want** a living documentation template with structured sections,
**so that** Phase 1 agents can use documentation-as-code patterns with prescriptive and reflective sections.

## Acceptance Criteria

1. Template file created at `.bmad-core/templates/living-doc-tmpl.yaml`
2. Template includes three required sections: Prescriptive (before implementation), Reflective (after testing), Evolution History
3. YAML structure follows existing BMAD template patterns (validated against `.bmad-core/templates/*.yaml` examples)
4. Template includes metadata fields: id, name, version, output format, filename pattern
5. Template structure documented with placeholder examples (detailed usage examples deferred until first agent uses template)
6. Template committed to Git with message: `feat: add living documentation template for agent workflows`

## Tasks / Subtasks

- [x] Review existing BMAD template patterns (AC: 3)
  - [x] Read existing templates from `.bmad-core/templates/` directory
  - [x] Identify common YAML structure patterns
  - [x] Note metadata field requirements
  - [x] Document template conventions to follow
- [x] Create living documentation template file (AC: 1)
  - [x] Create `.bmad-core/templates/living-doc-tmpl.yaml`
  - [x] Set up basic YAML structure
  - [x] Add template header and comments
- [x] Add metadata fields (AC: 4)
  - [x] Add `id` field (unique template identifier)
  - [x] Add `name` field (human-readable template name)
  - [x] Add `version` field (template version number)
  - [x] Add `output.format` field (markdown)
  - [x] Add `output.filename` pattern field
- [x] Define Prescriptive section (AC: 2)
  - [x] Create "Prescriptive" section structure
  - [x] Add guidance for before-implementation content
  - [x] Include placeholder examples
  - [x] Document section purpose and usage
- [x] Define Reflective section (AC: 2)
  - [x] Create "Reflective" section structure
  - [x] Add guidance for after-testing content
  - [x] Include placeholder examples
  - [x] Document section purpose and usage
- [x] Define Evolution History section (AC: 2)
  - [x] Create "Evolution History" section structure
  - [x] Add guidance for tracking changes over time
  - [x] Include placeholder examples
  - [x] Document section purpose and usage
- [x] Document template structure (AC: 5)
  - [x] Add comments explaining each section
  - [x] Provide placeholder examples
  - [x] Note that detailed usage examples will come later
  - [x] Include guidance for Phase 1 agents
- [x] Validate against existing patterns (AC: 3)
  - [x] Compare structure with existing templates
  - [x] Ensure YAML syntax is valid
  - [x] Verify metadata fields match conventions
  - [x] Confirm structure consistency
- [x] Commit template to Git (AC: 6)
  - [x] Review template for completeness
  - [x] Stage file with `git add`
  - [x] Create commit with message: `feat: add living documentation template for agent workflows`
  - [x] Verify commit was created successfully

## Dev Notes

### Context
Fourth story in Phase 0 Epic 1. Creates reusable documentation template for Phase 1 agents to follow documentation-as-code patterns. This template extends existing BMAD template patterns with two-tier context management.

### Key Information
- **Template Location:** `.bmad-core/templates/living-doc-tmpl.yaml`
- **Template Pattern Reference:** Review `.bmad-core/templates/*.yaml` for existing patterns
- **Three Required Sections:**
  1. **Prescriptive:** Written before implementation (requirements, plans, decisions)
  2. **Reflective:** Written after testing (lessons learned, actual vs. expected, improvements)
  3. **Evolution History:** Tracks changes over time (versions, modifications, rationale)

### Dependencies
- **Prerequisites:** Story 0.1 (requires `.bmad-core/templates/` directory)
- **Blocks:** Story 1.3 (two-tier strategy builds on this template)
- **Informs:** Phase 1 agents (will use this template for documentation)

### BMAD Template Conventions
- YAML format required
- Metadata section at top (id, name, version)
- Output section specifies format and filename pattern
- Sections array defines document structure
- Comments explain purpose and usage

### Important Decisions
- Template provides structure, not detailed examples (examples deferred until first usage)
- Three-section approach separates planning, reflection, and history
- YAML structure must match existing BMAD patterns for consistency
- Template designed for agent consumption (clear, structured, actionable)

### Testing

**Test Standards:**
- No automated tests required (template definition)
- Manual YAML syntax validation
- Structural comparison with existing templates

**Validation Requirements:**
- YAML must be valid and parseable
- Structure must match existing BMAD template patterns
- All three required sections must be present
- Metadata fields must be complete
- Template must be committed to Git

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-07 | 1.0 | Initial story creation from Epic 1 requirements | PM Agent (John) |

## Dev Agent Record

_(This section is owned by dev-agent and can only be modified by dev-agent)_

### Agent Model Used
- **Model:** Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)
- **Agent:** dev (James - Full Stack Developer)
- **Implementation Date:** 2025-10-07

### Debug Log References
No issues encountered during implementation. Template created successfully following BMAD patterns.

### Completion Notes
- **Template Structure:** Followed existing BMAD template pattern from `brainstorming-output-tmpl.yaml`
- **Three Required Sections Implemented:**
  1. **Prescriptive (Before Implementation):** 4 subsections covering intent, decisions, implementation plan, expected outcomes
  2. **Reflective (After Testing):** 4 subsections covering actual vs expected, lessons learned, quality outcomes, recommendations
  3. **Evolution History:** 4 subsections covering version history, architectural evolution, pattern shifts, cumulative lessons
- **Metadata Fields:** id, name, version, output.format, output.filename pattern
- **Two-Tier Context Strategy:** Documented in workflow section with Active/Archive tiers and trigger keywords
- **Archive Keywords:** "why was this built", "history", "past errors", "previous versions"
- **Template Size:** 9.2 KB with comprehensive placeholder examples
- **YAML Validity:** Valid YAML structure matching existing BMAD templates
- **Fulfills FR2:** Living Documentation Template requirement complete

### File List

**New Files Created:**
- `.bmad-core/templates/living-doc-tmpl.yaml` (living documentation template)

**Modified Files:**
- `docs/stories/1.1.2.design-living-documentation-template.md` (status changed to Ready for Review)

## QA Results

_(This section is owned by qa-agent and can only be modified by qa-agent)_
