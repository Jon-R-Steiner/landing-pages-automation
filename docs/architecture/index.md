# Landing Pages Automation Fullstack Architecture Document

## Table of Contents

- [Landing Pages Automation Fullstack Architecture Document](#table-of-contents)
  - [Change Log](./change-log.md)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Architecture Context](./introduction.md#architecture-context)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](./high-level-architecture.md#platform-and-infrastructure-choice)
    - [Repository Structure](./high-level-architecture.md#repository-structure)
    - [High Level Architecture Diagram](./high-level-architecture.md#high-level-architecture-diagram)
    - [Architectural Patterns](./high-level-architecture.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Framework Decision: Next.js 15.5 vs Astro](./tech-stack.md#framework-decision-nextjs-155-vs-astro)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
    - [Future Improvements Backlog](./tech-stack.md#future-improvements-backlog)
  - [Content Generation Strategy](./content-generation-strategy.md)
    - [Key Content Requirements](./content-generation-strategy.md#key-content-requirements)
    - [Content Quality Validation Checklist](./content-generation-strategy.md#content-quality-validation-checklist)
  - [Frontend Implementation Documents](./frontend-implementation-documents.md)
  - [Visual Design Authority](./visual-design-authority.md)
  - [Image Asset Strategy](./image-asset-strategy.md)
    - [Phase 1: Placeholder Images](./image-asset-strategy.md#phase-1-placeholder-images)
      - [Placeholder Image Library](./image-asset-strategy.md#placeholder-image-library)
      - [Usage Examples](./image-asset-strategy.md#usage-examples)
      - [Phase 2: Production Asset Migration](./image-asset-strategy.md#phase-2-production-asset-migration)
  - [Document Dependencies](./document-dependencies.md)
  - [Data Models](./data-models.md)
    - [Landing Page Model](./data-models.md#landing-page-model)
      - [TypeScript Interface](./data-models.md#typescript-interface)
      - [Relationships](./data-models.md#relationships)
    - [Form Submission Model](./data-models.md#form-submission-model)
      - [TypeScript Interface](./data-models.md#typescript-interface)
      - [Relationships](./data-models.md#relationships)
    - [Template Model](./data-models.md#template-model)
      - [TypeScript Interface](./data-models.md#typescript-interface)
      - [Relationships](./data-models.md#relationships)
    - [TCPA Rules Model](./data-models.md#tcpa-rules-model)
      - [TypeScript Interface](./data-models.md#typescript-interface)
    - [Form Session Model](./data-models.md#form-session-model)
      - [TypeScript Interface](./data-models.md#typescript-interface)
    - [Thank You Page](./data-models.md#thank-you-page)
  - [API Specification](./api-specification.md)
    - [Endpoints](./api-specification.md#endpoints)
      - [POST /api/submit-form](./api-specification.md#post-apisubmit-form)
      - [POST /api/validate-recaptcha](./api-specification.md#post-apivalidate-recaptcha)
      - [POST /api/webhook/make-com](./api-specification.md#post-apiwebhookmake-com)
      - [POST /api/webhook/netlify-deploy](./api-specification.md#post-apiwebhooknetlify-deploy)
    - [Security](./api-specification.md#security)
  - [Environment Variables](./environment-variables.md)
    - [Frontend (.env.local)](./environment-variables.md#frontend-envlocal)
    - [Backend (Netlify Environment)](./environment-variables.md#backend-netlify-environment)
  - [Asset Management Strategy](./asset-management-strategy.md)
    - [Hero Image Approach](./asset-management-strategy.md#hero-image-approach)
    - [Asset Folder Structure](./asset-management-strategy.md#asset-folder-structure)
    - [Hero Image Mapping Logic](./asset-management-strategy.md#hero-image-mapping-logic)
    - [Hero Image Component Pattern](./asset-management-strategy.md#hero-image-component-pattern)
    - [Image Optimization Specifications](./asset-management-strategy.md#image-optimization-specifications)
    - [Workflow](./asset-management-strategy.md#workflow)
    - [Benefits](./asset-management-strategy.md#benefits)
  - [Notes for dev-agent](./notes-for-dev-agent.md)
  - [Components](./components.md)
    - [Frontend Components](./components.md#frontend-components)
    - [Backend Components (Netlify Functions)](./components.md#backend-components-netlify-functions)
    - [Integration Components](./components.md#integration-components)
    - [Component Architecture Rationale](./components.md#component-architecture-rationale)
  - [External APIs](./external-apis.md)
    - [Airtable REST API](./external-apis.md#airtable-rest-api)
    - [Make.com API](./external-apis.md#makecom-api)
    - [Automation Approach: Make.com vs Airtable Native](./external-apis.md#automation-approach-makecom-vs-airtable-native)
    - [Netlify API](./external-apis.md#netlify-api)
    - [Google reCAPTCHA v3 API](./external-apis.md#google-recaptcha-v3-api)
    - [Google Tag Manager API](./external-apis.md#google-tag-manager-api)
    - [Claude API (Anthropic)](./external-apis.md#claude-api-anthropic)
    - [API Integration Summary](./external-apis.md#api-integration-summary)
  - [Database Schema](./database-schema.md)
    - [Airtable Base Structure](./database-schema.md#airtable-base-structure)
    - [Table 1: Landing Pages](./database-schema.md#table-1-landing-pages)
    - [Table 2: Form Submissions](./database-schema.md#table-2-form-submissions)
    - [Table 3: Templates](./database-schema.md#table-3-templates)
    - [Table 4: TCPA Rules](./database-schema.md#table-4-tcpa-rules)
    - [Table 5: Form Sessions](./database-schema.md#table-5-form-sessions)
    - [Table 6: Offers (Phase 2 - Future Enhancement)](./database-schema.md#table-6-offers-phase-2-future-enhancement)
    - [Relationships](./database-schema.md#relationships)
    - [Views (Airtable)](./database-schema.md#views-airtable)
    - [Airtable Automation (Native)](./database-schema.md#airtable-automation-native)
  - [Frontend Architecture](./frontend-architecture.md)
    - [Next.js App Router Structure](./frontend-architecture.md#nextjs-app-router-structure)
    - [Component Architecture](./frontend-architecture.md#component-architecture)
      - [Page Components](./frontend-architecture.md#page-components)
      - [Multi-Step Form Implementation](./frontend-architecture.md#multi-step-form-implementation)
    - [State Management](./frontend-architecture.md#state-management)
      - [FormContext - Multi-Step Form State](./frontend-architecture.md#formcontext-multi-step-form-state)
      - [MarketingContext - UTM and Click ID Tracking](./frontend-architecture.md#marketingcontext-utm-and-click-id-tracking)
    - [Client-Side Validation](./frontend-architecture.md#client-side-validation)
    - [Image Optimization](./frontend-architecture.md#image-optimization)
    - [Routing Strategy](./frontend-architecture.md#routing-strategy)
    - [Performance Optimizations](./frontend-architecture.md#performance-optimizations)
    - [Accessibility (a11y)](./frontend-architecture.md#accessibility-a11y)
    - [SEO Implementation](./frontend-architecture.md#seo-implementation)
    - [Error Handling](./frontend-architecture.md#error-handling)
    - [Testing Strategy (Frontend)](./frontend-architecture.md#testing-strategy-frontend)
    - [Frontend Architecture Rationale](./frontend-architecture.md#frontend-architecture-rationale)
  - [Backend Architecture](./backend-architecture.md)
    - [Serverless Functions Overview](./backend-architecture.md#serverless-functions-overview)
    - [API Route Handlers](./backend-architecture.md#api-route-handlers)
      - [POST /api/submit-form](./backend-architecture.md#post-apisubmit-form)
      - [POST /api/validate-recaptcha](./backend-architecture.md#post-apivalidate-recaptcha)
      - [POST /api/webhook-make-com](./backend-architecture.md#post-apiwebhook-make-com)
    - [Service Layer](./backend-architecture.md#service-layer)
      - [AirtableService - Database Operations](./backend-architecture.md#airtableservice-database-operations)
      - [RecaptchaService - reCAPTCHA v3 Verification](./backend-architecture.md#recaptchaservice-recaptcha-v3-verification)
      - [DuplicateDetectionService - Submission Deduplication](./backend-architecture.md#duplicatedetectionservice-submission-deduplication)
    - [Shared Validation Layer](./backend-architecture.md#shared-validation-layer)
    - [Error Handling Strategy](./backend-architecture.md#error-handling-strategy)
      - [Centralized Error Response](./backend-architecture.md#centralized-error-response)
    - [Environment Variables](./backend-architecture.md#environment-variables)
    - [Authentication & Authorization](./backend-architecture.md#authentication-authorization)
    - [Rate Limiting](./backend-architecture.md#rate-limiting)
    - [Logging and Monitoring](./backend-architecture.md#logging-and-monitoring)
    - [Serverless Function Configuration](./backend-architecture.md#serverless-function-configuration)
    - [Backend Architecture Rationale](./backend-architecture.md#backend-architecture-rationale)
  - [Project Structure](./project-structure.md)
    - [URL Structure & Routing](./project-structure.md#url-structure-routing)
      - [Landing Page URL Patterns](./project-structure.md#landing-page-url-patterns)
      - [URL Examples by Service Type](./project-structure.md#url-examples-by-service-type)
      - [Google Ads Optimization](./project-structure.md#google-ads-optimization)
      - [Next.js Routing Implementation](./project-structure.md#nextjs-routing-implementation)
      - [UTM Parameter Handling](./project-structure.md#utm-parameter-handling)
      - [SEO & Canonical URL Policy](./project-structure.md#seo-canonical-url-policy)
      - [Airtable Schema Additions](./project-structure.md#airtable-schema-additions)
      - [Netlify Configuration](./project-structure.md#netlify-configuration)
      - [URL Validation Rules](./project-structure.md#url-validation-rules)
    - [Monorepo Layout](./project-structure.md#monorepo-layout)
    - [Workspace Configuration](./project-structure.md#workspace-configuration)
    - [TypeScript Configuration](./project-structure.md#typescript-configuration)
    - [Next.js Configuration](./project-structure.md#nextjs-configuration)
    - [Tailwind CSS Configuration](./project-structure.md#tailwind-css-configuration)
    - [Global Styles](./project-structure.md#global-styles)
    - [Git Ignore Configuration](./project-structure.md#git-ignore-configuration)
    - [File Naming Conventions](./project-structure.md#file-naming-conventions)
    - [Import Path Aliases](./project-structure.md#import-path-aliases)
    - [Environment Files](./project-structure.md#environment-files)
    - [Git Ignore Configuration](./project-structure.md#git-ignore-configuration)
    - [Project Structure Rationale](./project-structure.md#project-structure-rationale)
  - [Development Workflow](./development-workflow.md)
    - [Initial Setup](./development-workflow.md#initial-setup)
    - [Development Commands](./development-workflow.md#development-commands)
    - [Pre-commit Workflow](./development-workflow.md#pre-commit-workflow)
    - [Adding New Landing Page Types](./development-workflow.md#adding-new-landing-page-types)
    - [Debugging Tips](./development-workflow.md#debugging-tips)
  - [Deployment Architecture](./deployment-architecture.md)
    - [Netlify Configuration](./deployment-architecture.md#netlify-configuration)
    - [Deployment Environments](./deployment-architecture.md#deployment-environments)
    - [Netlify Deployment Workflow](./deployment-architecture.md#netlify-deployment-workflow)
    - [Deployment Process](./deployment-architecture.md#deployment-process)
    - [Environment Variable Management](./deployment-architecture.md#environment-variable-management)
    - [Build Performance](./deployment-architecture.md#build-performance)
    - [Deployment Checklist](./deployment-architecture.md#deployment-checklist)
  - [Security and Performance](./security-and-performance.md)
    - [Security Requirements](./security-and-performance.md#security-requirements)
    - [Performance Requirements](./security-and-performance.md#performance-requirements)
  - [Testing Strategy](./testing-strategy.md)
    - [Unit Tests (Vitest)](./testing-strategy.md#unit-tests-vitest)
    - [Integration Tests (React Testing Library)](./testing-strategy.md#integration-tests-react-testing-library)
    - [E2E Tests (Playwright)](./testing-strategy.md#e2e-tests-playwright)
    - [Test Commands](./testing-strategy.md#test-commands)
  - [Coding Standards](./coding-standards.md)
    - [TypeScript Standards](./coding-standards.md#typescript-standards)
    - [React Standards](./coding-standards.md#react-standards)
    - [File Organization Standards](./coding-standards.md#file-organization-standards)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
    - [Code Comments](./coding-standards.md#code-comments)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [Frontend Error Handling](./error-handling-strategy.md#frontend-error-handling)
    - [Backend Error Handling](./error-handling-strategy.md#backend-error-handling)
    - [Error Logging](./error-handling-strategy.md#error-logging)
  - [Monitoring and Observability](./monitoring-and-observability.md)
    - [Phase 1 Monitoring](./monitoring-and-observability.md#phase-1-monitoring)
    - [Metrics to Monitor](./monitoring-and-observability.md#metrics-to-monitor)
    - [Phase 2 Observability Enhancements](./monitoring-and-observability.md#phase-2-observability-enhancements)
    - [Phase 2 Enhancement: Offer Variations](./monitoring-and-observability.md#phase-2-enhancement-offer-variations)
    - [Phase 2 Enhancement: SEO Optimization](./monitoring-and-observability.md#phase-2-enhancement-seo-optimization)
    - [Phase 2 Enhancement: Conversion Optimization](./monitoring-and-observability.md#phase-2-enhancement-conversion-optimization)
